{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DarkSCRY - Login</title>

  <!-- Bootstrap 5 (CSS) -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <!-- Google Fonts (Optional) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
    rel="stylesheet"
  />

  <!-- Django: use {% static ... %} instead of url_for(...) -->
  <link rel="stylesheet" href="{% static 'CSS/login.css' %}">
</head>
<body>
  <!-- Vanta.js Background Container -->
  <div id="vanta-bg"></div>

  <!-- Main Page Content -->
  <div class="login-wrapper">
    <div class="login-card">
      <div class="row g-0">
        <!-- LEFT COLUMN: Brand Info -->
        <div class="col-12 col-lg-6 brand-col mb-4 mb-lg-0">
          <img
            src="{% static 'images/logo.png' %}"
            alt="DarkSCRY Logo"
            style="margin-left: auto; margin-right: auto;"
          />
          <p style="text-align: center;">
            Empowering Intelligence with Cutting-Edge Analysis.
            Discover insights that matter most to your digital world.
          </p>
        </div>

        <!-- RIGHT COLUMN: Login Form -->
        <div class="col-12 col-lg-6 form-col" style="align-items: center">
          <h1>Welcome. Please Log In.</h1>
          <!-- Action and method can be set to your Django route for login -->
          <form id="loginForm" action="#" method="POST" class="w-100" style="max-width:400px;">
            <!-- Email/Username -->
            <div class="form-floating mb-3">
              <input
                type="text"
                class="form-control"
                id="floatingEmail"
                placeholder="Email or Username"
                required
              />
              <label for="floatingEmail">
                <svg 
                  xmlns="http://www.w3.org/2000/svg"
                  width="16" 
                  height="16" 
                  fill="currentColor"
                  class="bi bi-person-circle me-2" 
                  viewBox="0 0 16 16"
                >
                  <path d="M13.468 12.37C12.758 11.226 11.168 10.5 8 
                           10.5c-3.168 0-4.758.726-5.468 1.87A6.972 
                           6.972 0 0 0 8 14a6.972 6.972 0 0 0 
                           5.468-1.63z"/>
                  <path fill-rule="evenodd" 
                        d="M8 9a3 3 0 1 0 
                           0-6 3 3 0 0 0 0 6z"/>
                  <path fill-rule="evenodd" 
                        d="M8 1a7 7 0 1 0 
                           0 14A7 7 0 0 0 8 1z"/>
                </svg>
                Email / Username
              </label>
            </div>

            <!-- Password -->
            <div class="form-floating mb-3">
              <input
                type="password"
                class="form-control"
                id="floatingPassword"
                placeholder="Password"
                required
              />
              <label for="floatingPassword">
                <svg 
                  xmlns="http://www.w3.org/2000/svg" 
                  width="16" 
                  height="16" 
                  fill="currentColor" 
                  class="bi bi-lock-fill me-2" 
                  viewBox="0 0 16 16"
                >
                  <path d="M8 1a3 3 0 0 
                           0-3 3v2h6V4a3 3 0 0 0-3-3z"/>
                  <path d="M3 8a2 2 0 0 1 
                           2-2h6a2 2 0 0 1 2 
                           2v5a2 2 0 0 1-2 
                           2H5a2 2 0 0 1-2-2V8z"/>
                </svg>
                Password
              </label>
            </div>

            <!-- Login Button -->
            <button type="submit" class="btn btn-custom w-100 py-2 mb-3">
              Login
            </button>

            <!-- Loading Spinner (hidden by default) -->
            <div id="loadingSpinner" class="d-flex justify-content-center my-3">
              <div class="spinner-border text-light" role="status" style="display: none;">
                <span class="visually-hidden">Loading...</span>
              </div>
            </div>

            <!-- Server Message (success or error) -->
            <div id="loginMessage" class="mt-2 text-center" style="white-space: pre-wrap;"></div>

            <!-- Additional Links -->
            <div class="d-flex justify-content-between mt-3">
              <a href="#" class="text-decoration-none text-white-50">
                Need Help?
              </a>
              <a href="#" class="text-decoration-none text-white-50">
                Forgot Password?
              </a>
            </div>
          </form>
        </div>
      </div> <!-- row -->
    </div> <!-- login-card -->
  </div> <!-- login-wrapper -->

  <!-- THREE.js and Vanta.js Scripts -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"
  ></script>

  <!-- Initialize Vanta.js -->
  <script>
    VANTA.NET({
      el: "#vanta-bg",
      mouseControls: false,
      touchControls: true,
      gyroControls: false,
      // Vanta Options
      color: 0xffffff,
      color2: 0x497ea5,
      backgroundColor: 0x10131a,
      points: 12.0,
      maxDistance: 20.0,
      spacing: 17.0
    });
  </script>

  <!-- Bootstrap 5 (JS) -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
  ></script>

  <script src="{% static 'js/login.js' %}"></script>
</body>
</html>
